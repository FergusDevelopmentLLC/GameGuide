<div class="full">
    <main class="main">
        <h2>Edit user</h2>
        <% if @user && @user.errors.any? %>
        <div class="validation_error">
            <p><strong><%= @user.errors.uniq.count %> <%= @user.errors.uniq.count > 1 ? "errors" : "error"%> prohibited this user from being saved:</strong></p>
            <ul>
                <% @user.errors.full_messages.uniq.each do |msg| %>
                <li><%= msg %></li>
                <% end %>
            </ul>
        </div>
        <% end %>
        <form action='/users/<%=@user.id%>' method="post" id="edit_form" class="form">
            <input type='hidden' name='_method' value="patch"/>
            <div class="form-item">
                <label for="username">User name</label>
                <input type="text" name="user[username]" id="username" placeholder="User name" value="<%=@user.username%>" />
            </div>
            <div class="form-item">
                <label for="email">Email</label>
                <input type="text" name="user[email]" id="email" placeholder="Email" value="<%=@user.email%>" />
            </div>
            <div class="form-item">
                <label for="password">Password</label>
                <input type="password" name="user[password]" id="password" placeholder="Password" value="" />
            </div>
        </form>
        <form action="/users/<%=@user.id%>" method="post" id="delete_form">
            <input type='hidden' name='_method' value="delete" />
        </form>
        <input type="submit" value="Edit user" form="edit_form" />
        <input type="submit" value="Delete user" form="delete_form">
    </main>
</div>